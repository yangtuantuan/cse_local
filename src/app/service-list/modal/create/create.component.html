<div class="modal-component">
  <h2>创建微服务</h2>

  <div class="form">
    <form dForm ngForm #form>
      <d-form-item>
        <d-form-label [required]="true">微服名称</d-form-label>
        <d-form-control>
          <input
            dTextInput
            placeholder="数字字母开头结尾，例如：myServiceName"
            [(ngModel)]="serviceName"
            [ngModelOptions]="{ standalone: true }"
            [dValidateRules]="[
              { required: true },
              { whitespace: true },
              { minlength: 1 },
              { maxlength: 128 },
            ]"
          />
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="true">微服务应用</d-form-label>
        <d-form-control>
          <input
            dTextInput
            placeholder="数字字母开头结尾，例如：myAppId"
            [(ngModel)]="appId"
            [ngModelOptions]="{ standalone: true }"
            [dValidateRules]="[
              { required: true },
              { whitespace: true },
              { minlength: 1 },
              { maxlength: 128 },
            ]"
          />
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="true">版本</d-form-label>
        <d-form-control>
          <input
            dTextInput
            [(ngModel)]="version"
            [ngModelOptions]="{ standalone: true }"
            [dValidateRules]="[
              { required: true },
              { whitespace: true },
              { minlength: 3 },
              { maxlength: 46 },
              {
                pattern: versionReg,
                message: {
                  'zh-cn':
                    'X.Y.Z, X.Y.Z.B 型版本号, X、Y、Z 为数字且范围在0-32767, 长度为3-46个字符',
                  'en-us':
                    'The value cannot contain characters except uppercase and lowercase letters.',
                  default:
                    'X.Y.Z, X.Y.Z.B 型版本号, X、Y、Z 为数字且范围在0-32767, 长度为3-46个字符'
                }
              }
            ]"
          />
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="true">微服务环境</d-form-label>
        <d-form-control>
          <d-select
            class="w-150"
            [filterKey]="'label'"
            [options]="envOpetions"
            [(ngModel)]="environment"
            [ngModelOptions]="{ standalone: true }"
            size="sm"
          ></d-select>
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="false">描述</d-form-label>
        <d-form-control>
          <textarea dTextarea placeholder="Please Enter"></textarea>
        </d-form-control>
      </d-form-item>
    </form>
  </div>
  <div class="footer">
    <d-button bsStyle="danger" (click)="onCreateBtn()">确定</d-button>
    <d-button bsStyle="common" (click)="onCancel()" class="cse-mg-left-lg"
      >取消</d-button
    >
  </div>
</div>
