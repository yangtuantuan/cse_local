<div class="modal-component">
  <h2>创建微服务</h2>

  <div class="form">
    <form
      dForm
      ngForm
      [formGroup]="formGroup"
      #form="dValidateRules"
      [dValidateRules]="formRules.rule"
    >
      <d-form-item>
        <d-form-label [required]="true">微服名称</d-form-label>
        <d-form-control>
          <input
            dTextInput
            placeholder="数字字母开头结尾，例如：myServiceName"
            autocomplete="off"
            name="serviceName"
            formControlName="serviceName"
            [dValidateRules]="formRules.usernameRules"
          />
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="true">微服务应用</d-form-label>
        <d-form-control>
          <input
            dTextInput
            placeholder="数字字母开头结尾，例如：myAppId"
            autocomplete="off"
            name="appId"
            formControlName="appId"
            [dValidateRules]="formRules.appIdRules"
          />
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="true">版本</d-form-label>
        <d-form-control>
          <input
            dTextInput
            autocomplete="off"
            placeholder="0.0.1"
            name="version"
            formControlName="version"
            [dValidateRules]="formRules.versionRules"
          />
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="true">微服务环境</d-form-label>
        <d-form-control>
          <d-select
            class="w-150"
            [filterKey]="'label'"
            autocomplete="off"
            [options]="envOpetions"
            name="environment"
            formControlName="environment"
            [dValidateRules]="formRules.environmentRules"
            size="sm"
          ></d-select>
        </d-form-control>
      </d-form-item>
      <d-form-item>
        <d-form-label [required]="false">描述</d-form-label>
        <d-form-control>
          <textarea
            dTextarea
            placeholder="Please Enter"
            autocomplete="off"
            name="description"
            formControlName="description"
            [dValidateRules]="formRules.descriptionRules"
          ></textarea>
        </d-form-control>
      </d-form-item>
    </form>
  </div>
  <div class="footer">
    <d-button
      bsStyle="danger"
      [disabled]="!!form.errorMessage"
      (click)="onCreateBtn()"
      dTooltip
      [content]="form.errorMessage"
    >
      确定
    </d-button>
    <d-button bsStyle="common" (click)="onCancel()" class="cse-mg-left-lg">
      取消
    </d-button>
  </div>
</div>
